# 并发模型与事件循环

* 消息队列
* 函数调用栈
* 对象堆

消息是一个队列，先调用最先触发的事件。
函数调用使用栈，后触发的先返回。
调用栈清空后执行下一消息。

只有上一个消息被处理完后，才处理下一个消息。

## 添加消息

* 每个事件监听到用户操作后添加消息
* `setTimeout` 在预设时间后准备一条消息，在等待消息队列处理完成后执行。
